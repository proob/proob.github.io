{"version":3,"sources":["webpack:///./routes/home/index.js","webpack:///./routes/home/style.css"],"names":["Home","state","navigatorSent","userName","createCookieInHour","cookieName","cookieValue","hourToExpire","date","Date","setTime","getTime","document","cookie","toGMTString","createPreferencesCookie","theme","styles","lang","indexOf","console","log","prefs","created","lastVisit","siteUpdated","subscribing","JSON","stringify","onSignIn","googleUser","profile","getBasicProfile","getId","getName","getImageUrl","getEmail","setState","signOut","gapi","auth2","getAuthInstance","then","componentDidMount","window","signin2","render","this","_navigator","i","navigator","fetch","method","headers","body","resp","json","mes","parse","message","componentWillUnmount","class","style","home","className","id","data-onsuccess","href","onClick","data-width","data-size","data-button-type","data-auto-logout-link","data-use-continue-as","Component","module","exports"],"mappings":"6LAqCqBA,E,oJACpBC,MAAQ,CACPC,eAAe,EACfC,SAAU,M,EAEXC,mBAAqB,SAACC,EAAYC,EAAaC,GAC9C,IAAIC,EAAO,IAAIC,KACfD,EAAKE,QAAQF,EAAKG,UAAwB,GAAbJ,EAAgB,GAAG,KAChDK,SAASC,OAASR,EAAa,MAAQC,EAAc,eAAgBE,EAAKM,e,EAE3EC,wBAA0B,SAACC,EAAOC,EAAQC,GACzC,IAA0C,IAAtCN,SAASC,OAAOM,QAAQ,SAC3BC,QAAQC,IAAI,oBACZD,QAAQC,IAAIT,SAASC,YACf,CACNO,QAAQC,IAAI,0BACZ,IAAIC,EAAQ,CAACN,MAAOA,EAAOC,OAAQA,EAAQC,KAAMA,EAAMK,QAAS,IAAId,KAAQe,UAAW,IAAIf,KAAQgB,YAAa,IAAIhB,KAAQiB,YAAa,CAAC,OAAQ,WAAY,SAC9J,EAAKtB,mBAAmB,QAASuB,KAAKC,UAAUN,GAAQ,M,EAiD1DO,SAAW,SAACC,GACX,IAAIC,EAAUD,EAAWE,kBACzBZ,QAAQC,IAAI,OAASU,EAAQE,SAC7Bb,QAAQC,IAAI,SAAWU,EAAQG,WAC/Bd,QAAQC,IAAI,cAAgBU,EAAQI,eACpCf,QAAQC,IAAI,UAAYU,EAAQK,YAChC,EAAKC,SAAS,CAAClC,SAAS4B,EAAQG,a,EAEjCI,QAAU,WACGC,KAAKC,MAAMC,kBACjBH,UAAUI,MAAK,WACpBtB,QAAQC,IAAI,wB,4HAzDdsB,kBAAA,WAAoB,WAiBnB,GAhBAC,OAAOL,KAAKM,QAAQC,OAAO,YAAa,CACvC,MAAS,6CACT,MAAS,IACT,OAAU,GACV,WAAa,EACb,MAAS,OACT,UAAaC,KAAKlB,YAUdkB,KAAK9C,MAAMC,cAAe,CAC9B6C,KAAKhC,wBAAwB,OAAQ,aAAa,MAClDgC,KAAK3C,mBAAmB,aAAc,aAAc,GACpD2C,KAAK3C,mBAAmB,aAAc,eAAgB,GACtD2C,KAAK3C,mBAAmB,cAAe,cAAe,GACtD2C,KAAK3C,mBAAmB,cAAe,gBAAiB,GACxD,IAAI4C,EAAa,GACjB,IAAK,IAAIC,KAAKC,UAAWF,EAAWC,GAAKC,UAAUD,GAInDE,MAAgB,uCAChB,CACCC,OAAQ,OACRC,QAAS,CAAC,eAAe,oBACzBC,KAAM3B,KAAKC,UAAUoB,KAEpBN,MAAK,SAAAa,GAAI,OAAIA,EAAKC,UAClBd,MAAK,SAAAe,GACLrC,QAAQC,IAAIoC,GACZrC,QAAQC,IAAIM,KAAK+B,MAAMD,EAAIE,UAC3B,EAAKtB,SAAU,CAAEnC,eAAe,S,EAIpC0D,qBAAA,WACCxC,QAAQC,IAAI,mC,EAiBbyB,OAAA,WACC,OACC,SAAKe,MAAOC,IAAMC,MACjB,oBACChB,KAAK9C,MAAME,UACX,yBAAe4C,KAAK9C,MAAME,UAE3B,uBAMA,SAAK6D,UAAU,YAAYC,GAAG,YAAYC,iBAAgBnB,KAAKlB,WAC/D,aACA,OAAGsC,KAAK,IAAIC,QAASrB,KAAKT,SAA1B,YACA,aACA,aACA,SAAK0B,UAAU,kBAAkBK,aAAW,GAAGC,YAAU,QAAQC,mBAAiB,gBAChFC,wBAAsB,QAAQC,uBAAqB,Y,GAnGvBC,c,yCCpClCC,EAAOC,QAAU,CAAC,KAAO","file":"route-home.chunk.becd9.js","sourcesContent":["import {Component} from 'preact'; //, h\nimport style from './style.css';\n// import Cookies from 'universal-cookie';\n// const cookies = new Cookies();\n\n// const Home = () => (\n// \t<div class={style.home}>\n// \t\t<h1>Home</h1>\n// \t\t<p>Pipipiri</p>\n// \t</div>\n// );\n//\n// export default Home;\nconst getCookie = () => {\n\tconsole.log('getcookies:', document.cookie);\n\treturn (document.cookie || '').split(';')\n};\nconst setCookie = (c) => {\n\tconsole.log('setcookies before:',document.cookie);\n\tlet cookies = document.cookie;\n\tdocument.cookie = cookies + ';' + c;\n\tconsole.log('setcookies after:', document.cookie);\n};\nconst checkCookies = () => {\n\tlet c = getCookie();\n\tconsole.log(c);\n\treturn (c.indexOf('sylogentpolicyseen=true') > -1) ;\n};\n// let root = null;\n// const init = ()  => {\n// \tsetCookie('sylogentpolicyseen=true');\n// \tif (!checkCookies()) {\n// \t\tvar d = document.createElement('div');\n// \t\td.id = 'useCookies';\n// \t\tdocument.body.appendChild(d);\n// \t\troot = render(<CookiePopup />, document.getElementById('useCookies'));\n// \t}\nexport default class Home extends Component {\n\tstate = {\n\t\tnavigatorSent: false,\n\t\tuserName: null\n\t};\n\tcreateCookieInHour = (cookieName, cookieValue, hourToExpire) => {\n\t\tlet date = new Date();\n\t\tdate.setTime(date.getTime()+(hourToExpire*60*60*1000));\n\t\tdocument.cookie = cookieName + \" = \" + cookieValue + \"; expires = \" +date.toGMTString();\n\t};\n\tcreatePreferencesCookie = (theme, styles, lang) => {\n\t\tif (document.cookie.indexOf('prefs') !== -1) {\n\t\t\tconsole.log('Has prefs cookie');\n\t\t\tconsole.log(document.cookie);\n\t\t} else {\n\t\t\tconsole.log('Creating  prefs cookie');\n\t\t\tlet prefs = {theme: theme, styles: styles, lang: lang, created: new Date(), lastVisit: new Date(), siteUpdated: new Date(), subscribing: ['blog', 'tutorial', 'tech']};\n\t\t\tthis.createCookieInHour('prefs', JSON.stringify(prefs), 20);\n\t\t}\n\t};\n\tcomponentDidMount() {\n\t\twindow.gapi.signin2.render('g-signin2', {\n\t\t\t'scope': 'https://www.googleapis.com/auth/plus.login',\n\t\t\t'width': 200,\n\t\t\t'height': 50,\n\t\t\t'longtitle': true,\n\t\t\t'theme': 'dark',\n\t\t\t'onsuccess': this.onSignIn\n\t\t});\n\t\t// gapi.signin2.render('g-signin2', {\n\t\t// \t'scope': 'https://www.googleapis.com/auth/plus.login',\n\t\t// \t'width': 200,\n\t\t// \t'height': 50,\n\t\t// \t'longtitle': true,\n\t\t// \t'theme': 'dark',\n\t\t// \t'onsuccess': this. onSignIn\n\t\t// });\n\t\tif (!this.state.navigatorSent) {\n\t\t\tthis.createPreferencesCookie('dark', 'gunwoStyle','pl');\n\t\t\tthis.createCookieInHour(\"homeCookie\", \"shit Value\", 1);\n\t\t\tthis.createCookieInHour(\"homeCookie\", \"shit Value33\", 1);\n\t\t\tthis.createCookieInHour(\"homeCookie1\", \"shit Value2\", 1);\n\t\t\tthis.createCookieInHour(\"homeCookie1\", \"shit Value222\", 1);\n\t\t\tlet _navigator = {};\n\t\t\tfor (let i in navigator) _navigator[i] = navigator[i];\n\t\t\tconst uriBase = process.env.NODE_ENV === 'development' //TODO::\n\t\t\t\t? 'http://localhost:8080'\n\t\t\t\t: '';\n\t\t\tfetch(uriBase + 'http://localhost:8080/post-navigator',\n\t\t\t{\n\t\t\t\tmethod: 'post',\n\t\t\t\theaders: {'Content-Type':'application/json'},\n\t\t\t\tbody: JSON.stringify(_navigator) //robi stringa\n\t\t\t})\n\t\t\t\t.then(resp => resp.json())\n\t\t\t\t.then(mes => {\n\t\t\t\t\tconsole.log(mes);\n\t\t\t\t\tconsole.log(JSON.parse(mes.message)); //robi obiekt ze stringa\n\t\t\t\t\tthis.setState( { navigatorSent: true} ); //wysyla navigator przy kazdym refresh\n\t\t\t\t});\n\t\t}\n\t}\n\tcomponentWillUnmount() {\n\t\tconsole.log('Unmount home component called.');\n\t}\n\n\tonSignIn = (googleUser) => {\n\t\tlet profile = googleUser.getBasicProfile();\n\t\tconsole.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.\n\t\tconsole.log('Name: ' + profile.getName());\n\t\tconsole.log('Image URL: ' + profile.getImageUrl());\n\t\tconsole.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.\n\t\tthis.setState({userName:profile.getName()});\n\t};\n\tsignOut = () => {\n\t\tlet auth2 = gapi.auth2.getAuthInstance();\n\t\tauth2.signOut().then(function () {\n\t\t\tconsole.log('User signed out.');\n\t\t});\n\t};\n\trender() {\n\t\treturn (\n\t\t\t<div class={style.home}>\n\t\t\t\t<h1>Home</h1>\n\t\t\t\t{this.state.userName &&\n\t\t\t\t\t<p>Logged as: {this.state.userName}</p>\n\t\t\t\t}\n\t\t\t\t<p>Pipipiri</p>\n\t\t\t{/*\tClient ID:*/}\n\t\t\t{/*\t349712699810-5ctdh9t1r65jteaff03khbqm5knmmj6u.apps.googleusercontent.com \t*/}\n\t\t\t{/* Client secret:*/}\n\t\t\t{/* _LEu6tD7xYYV3QXFOWJQN335 */}\n\t\t\t{/*//TODO::   https://developers.google.com/identity/sign-in/web/build-button  */}\n\t\t\t\t<div className=\"g-signin2\" id=\"g-signin2\" data-onsuccess={this.onSignIn} />\n\t\t\t\t<br />\n\t\t\t\t<a href=\"#\" onClick={this.signOut}>Sign out</a>\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<div className=\"fb-login-button\" data-width=\"\" data-size=\"large\" data-button-type=\"continue_with\"\n\t\t\t\t\t data-auto-logout-link=\"false\" data-use-continue-as=\"false\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n//TODO:: https://stackoverflow.com/questions/44996357/react-fetch-post-request\n//TODO:: parsowanie:\n//https://www.w3schools.com/js/js_json_parse.asp\n//https://www.w3schools.com/js/js_json_stringify.asp\n//TODO:: tu dobre cos: https://stackoverflow.com/questions/29775797/fetch-post-json-data\n//Navigator: https://stackoverflow.com/questions/4970202/serialize-javascripts-navigator-object\n\n//TODO:: cookies:\n//https://stackoverflow.com/questions/39826992/how-can-i-set-a-cookie-in-react\n//https://stackoverflow.com/questions/51109559/get-cookie-with-react\n//TODO:: good explanation of cookies: https://stackoverflow.com/questions/24865916/how-to-set-multiple-key-value-pairs-to-one-cookie\n//https://stackoverflow.com/questions/260749/what-is-the-best-way-to-get-and-set-a-single-cookie-value-using-javascript\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home__MseGd\"};"],"sourceRoot":""}