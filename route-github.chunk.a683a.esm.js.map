{"version":3,"sources":["webpack:///./routes/github/index.js","webpack:///./routes/home/style.css"],"names":["Github","Component","state","user","propUser","gitRepos","isLoading","loadGitData","this","setState","fetch","then","response","status","Error","json","public_repos","catch","fetchUser","e","preventDefault","setUser","target","value","nextProps","prevState","componentDidMount","componentDidUpdate","prevProps","render","repoText","errText","on","setOn","useState","class","style","home","onSubmit","tabIndex","type","onChange","fontSize","onClick","module","exports"],"mappings":"6FAAA,wHAKe,MAAMA,UAAeC,YAAU,uCAC7CC,MAAQ,CACPC,KAAM,GACNC,SAAU,GACVC,SAAU,KACVC,WAAW,GALiC,KAO7CC,YAAcJ,IACbK,KAAKC,SAAS,CAAEH,WAAW,EAAMD,SAAU,OAC3CK,MAAM,gCAAgCP,GACpCQ,KAAKC,IACL,GAAwB,MAApBA,EAASC,OAAgB,MAAM,IAAIC,MACvC,OAAOF,EAASG,SAEhBJ,KAAKR,IACLK,KAAKC,SAAS,CAAEJ,SAAUF,EAAKa,aAAe,GAAIV,WAAW,MAE7DW,MAAM,IAAMT,KAAKC,SAAS,CAAEJ,SAAU,MAAOC,WAAW,MAjBd,KAmB7CY,UAAYC,IACXA,EAAEC,iBACFZ,KAAKD,YAAYC,KAAKN,MAAMC,OArBgB,KAuB7CkB,QAAUF,IACTX,KAAKC,SAAS,CAAEN,KAAMgB,EAAEG,OAAOC,MAAOlB,SAAU,QAGjD,gCAAgCmB,EAAWC,GAC1C,OAAID,EAAUrB,OAASsB,EAAUrB,SACzB,CACND,KAAMqB,EAAUrB,KAChBC,SAAUoB,EAAUrB,KACpBG,WAAW,EACXD,SAAU,MAGL,KAERqB,oBACKlB,KAAKN,MAAME,UACdI,KAAKD,YAAYC,KAAKN,MAAME,UAG9BuB,mBAAmBC,EAAWH,GACzBjB,KAAKN,MAAME,UAAYI,KAAKN,MAAME,WAAaqB,EAAUrB,UAC5DI,KAAKD,YAAYC,KAAKN,MAAMC,MAG9B0B,OAAO,EAAD,GAAoC,IAA/B,KAAE1B,EAAF,SAAQE,EAAR,UAAkBC,GAAa,EACnCwB,EAAW,sBAAYzB,EAAZ,4BACX0B,EAAU,kCACTC,EAAIC,GAASC,aAAS,GAE7B,OACC,SAAKC,MAAOC,IAAMC,MACjB,+BAAqBlC,GAAc,OACnC,UAAMmC,SAAU9B,KAAKU,WACpB,eACC,oCAEC,WAAOqB,SAAU,EACbC,KAAK,OACLjB,MAAOpB,EAAMsC,SAAUjC,KAAKa,UAJjC,OAOC,YAAQmB,KAAK,UAAb,cAIAlC,IAAcD,GAAY,kCAC3BC,GAAa,mCACbD,GACD,wBAAa,UAAM+B,MAAO,CAAEM,SAAU,WAAavC,GACnC,QAAbE,EACDyB,EACEC,GAIL,YAAQY,QA3BV,WAAoBV,GAAOD,KA2BzB,YAzBD,MAyB+CA,EAAK,SAAW,UAzB/D,IAyB0E,iB,yCCnF7EY,EAAOC,QAAU,CAAC,KAAO","file":"route-github.chunk.a683a.esm.js","sourcesContent":["import { Component } from 'preact';\r\nimport style from '../home/style.css';\r\nimport React from 'preact/compat';\r\nimport { useState } from 'preact/hooks';\r\n\r\nexport default class Github extends Component {\r\n\tstate = {\r\n\t\tuser: '',\r\n\t\tpropUser: '',\r\n\t\tgitRepos: null,\r\n\t\tisLoading: false\r\n\t};\r\n\tloadGitData = user => {\r\n\t\tthis.setState({ isLoading: true, gitRepos: null });\r\n\t\tfetch(`https://api.github.com/users/${user}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (response.status === 404) throw new Error();\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(user => {\r\n\t\t\t\tthis.setState({ gitRepos: user.public_repos + '', isLoading: false });\r\n\t\t\t})\r\n\t\t\t.catch(() => this.setState({ gitRepos: 'err', isLoading: false }));\r\n\t};\r\n\tfetchUser = e => {\r\n\t\te.preventDefault();\r\n\t\tthis.loadGitData(this.state.user);\r\n\t};\r\n\tsetUser = e => {\r\n\t\tthis.setState({ user: e.target.value, gitRepos: null });\r\n\t};\r\n\r\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\r\n\t\tif (nextProps.user !== prevState.propUser) {\r\n\t\t\treturn {\r\n\t\t\t\tuser: nextProps.user,\r\n\t\t\t\tpropUser: nextProps.user,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tgitRepos: null\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tif (this.state.propUser) {\r\n\t\t\tthis.loadGitData(this.state.propUser);\r\n\t\t}\r\n\t}\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (this.state.propUser && this.state.propUser !== prevState.propUser) {\r\n\t\t\tthis.loadGitData(this.state.user);\r\n\t\t}\r\n\t}\r\n\trender({}, { user, gitRepos, isLoading }) {\r\n\t\tconst repoText = <span> has {gitRepos} repositories on Github.</span>;\r\n\t\tconst errText = <span> was not found!</span>;\r\n\t\tconst [on, setOn] = useState(false);\r\n\t\tfunction toggle() { setOn(!on); }\r\n\t\treturn (\r\n\t\t\t<div class={style.home}>\r\n\t\t\t\t<h1>Github account: {user ? user : '?!?'}</h1>\r\n\t\t\t\t<form onSubmit={this.fetchUser}>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\tEnter GitHub user:&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t<input tabIndex={0}\r\n\t\t\t\t\t\t\t\t   type=\"text\"\r\n\t\t\t\t\t\t\t\t   value={user} onChange={this.setUser}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t<button type=\"submit\">Submit</button>\r\n\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</form>\r\n\t\t\t\t{ !isLoading && !gitRepos && <h5>waiting for submit</h5> }\r\n\t\t\t\t{ isLoading && <h5>...fetching data...</h5> }\r\n\t\t\t\t{ gitRepos &&\r\n\t\t\t\t\t<h3>The user <span style={{ fontSize: 'larger' }}>{user}</span>\r\n\t\t\t\t\t\t{ gitRepos !== 'err' ?\r\n\t\t\t\t\t\t\trepoText\r\n\t\t\t\t\t\t\t: errText\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t}\r\n\t\t\t\t<button onClick={toggle}>Switch1!</button> - {on ? 'Is on!' : 'Is off!'} <br />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home__MseGd\"};"],"sourceRoot":""}