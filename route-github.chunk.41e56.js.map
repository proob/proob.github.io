{"version":3,"sources":["webpack:///./routes/github/index.js","webpack:///./routes/home/style.css"],"names":["Github","state","user","propUser","gitRepos","isLoading","loadGitData","setState","fetch","then","response","status","Error","json","public_repos","catch","fetchUser","e","preventDefault","setUser","target","value","getDerivedStateFromProps","nextProps","prevState","componentDidMount","this","componentDidUpdate","prevProps","render","repoText","errText","useState","on","setOn","class","style","home","onSubmit","tabIndex","type","onChange","fontSize","onClick","Component","module","exports"],"mappings":"qNAKqBA,E,oJACpBC,MAAQ,CACPC,KAAM,GACNC,SAAU,GACVC,SAAU,KACVC,WAAW,G,EAEZC,YAAc,SAAAJ,GACb,EAAKK,SAAS,CAAEF,WAAW,EAAMD,SAAU,OAC3CI,MAAM,gCAAgCN,GACpCO,MAAK,SAAAC,GACL,GAAwB,MAApBA,EAASC,OAAgB,MAAM,IAAIC,MACvC,OAAOF,EAASG,UAEhBJ,MAAK,SAAAP,GACL,EAAKK,SAAS,CAAEH,SAAUF,EAAKY,aAAe,GAAIT,WAAW,OAE7DU,OAAM,kBAAM,EAAKR,SAAS,CAAEH,SAAU,MAAOC,WAAW,Q,EAE3DW,UAAY,SAAAC,GACXA,EAAEC,iBACF,EAAKZ,YAAY,EAAKL,MAAMC,O,EAE7BiB,QAAU,SAAAF,GACT,EAAKV,SAAS,CAAEL,KAAMe,EAAEG,OAAOC,MAAOjB,SAAU,Q,mGAG1CkB,yBAAP,SAAgCC,EAAWC,GAC1C,OAAID,EAAUrB,OAASsB,EAAUrB,SACzB,CACND,KAAMqB,EAAUrB,KAChBC,SAAUoB,EAAUrB,KACpBG,WAAW,EACXD,SAAU,MAGL,M,2BAERqB,kBAAA,WACKC,KAAKzB,MAAME,UACduB,KAAKpB,YAAYoB,KAAKzB,MAAME,W,EAG9BwB,mBAAA,SAAmBC,EAAWJ,GACzBE,KAAKzB,MAAME,UAAYuB,KAAKzB,MAAME,WAAaqB,EAAUrB,UAC5DuB,KAAKpB,YAAYoB,KAAKzB,MAAMC,O,EAG9B2B,OAAA,e,2EAA0C,QAA7B3B,EAA6B,EAA7BA,KAAME,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,UACtByB,EAAW,sBAAY1B,EAAZ,4BACX2B,EAAU,iCAFyB,EAGrBC,aAAS,GAAtBC,EAHkC,KAG9BC,EAH8B,KAKzC,OACC,SAAKC,MAAOC,IAAMC,MACjB,+BAAqBnC,GAAc,OACnC,UAAMoC,SAAUZ,KAAKV,WACpB,eACC,oCAEC,WAAOuB,SAAU,EACbC,KAAK,OACLnB,MAAOnB,EAAMuC,SAAUf,KAAKP,UAJjC,OAOC,YAAQqB,KAAK,UAAb,cAIAnC,IAAcD,GAAY,kCAC3BC,GAAa,mCACbD,GACD,wBAAa,UAAMgC,MAAO,CAAEM,SAAU,WAAaxC,GACnC,QAAbE,EACD0B,EACEC,GAIL,YAAQY,QA3BV,WAAoBT,GAAOD,KA2BzB,YAzBD,MAyB+CA,EAAK,SAAW,UAzB/D,IAyB0E,e,GA/EzCW,c,yCCJpCC,EAAOC,QAAU,CAAC,KAAO","file":"route-github.chunk.41e56.js","sourcesContent":["import { Component } from 'preact';\r\nimport style from '../home/style.css';\r\nimport React from 'preact/compat';\r\nimport { useState } from 'preact/hooks';\r\n\r\nexport default class Github extends Component {\r\n\tstate = {\r\n\t\tuser: '',\r\n\t\tpropUser: '',\r\n\t\tgitRepos: null,\r\n\t\tisLoading: false\r\n\t};\r\n\tloadGitData = user => {\r\n\t\tthis.setState({ isLoading: true, gitRepos: null });\r\n\t\tfetch(`https://api.github.com/users/${user}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (response.status === 404) throw new Error();\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(user => {\r\n\t\t\t\tthis.setState({ gitRepos: user.public_repos + '', isLoading: false });\r\n\t\t\t})\r\n\t\t\t.catch(() => this.setState({ gitRepos: 'err', isLoading: false }));\r\n\t};\r\n\tfetchUser = e => {\r\n\t\te.preventDefault();\r\n\t\tthis.loadGitData(this.state.user);\r\n\t};\r\n\tsetUser = e => {\r\n\t\tthis.setState({ user: e.target.value, gitRepos: null });\r\n\t};\r\n\r\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\r\n\t\tif (nextProps.user !== prevState.propUser) {\r\n\t\t\treturn {\r\n\t\t\t\tuser: nextProps.user,\r\n\t\t\t\tpropUser: nextProps.user,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tgitRepos: null\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tif (this.state.propUser) {\r\n\t\t\tthis.loadGitData(this.state.propUser);\r\n\t\t}\r\n\t}\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (this.state.propUser && this.state.propUser !== prevState.propUser) {\r\n\t\t\tthis.loadGitData(this.state.user);\r\n\t\t}\r\n\t}\r\n\trender({}, { user, gitRepos, isLoading }) {\r\n\t\tconst repoText = <span> has {gitRepos} repositories on Github.</span>;\r\n\t\tconst errText = <span> was not found!</span>;\r\n\t\tconst [on, setOn] = useState(false);\r\n\t\tfunction toggle() { setOn(!on); }\r\n\t\treturn (\r\n\t\t\t<div class={style.home}>\r\n\t\t\t\t<h1>Github account: {user ? user : '?!?'}</h1>\r\n\t\t\t\t<form onSubmit={this.fetchUser}>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\tEnter GitHub user:&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t<input tabIndex={0}\r\n\t\t\t\t\t\t\t\t   type=\"text\"\r\n\t\t\t\t\t\t\t\t   value={user} onChange={this.setUser}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t<button type=\"submit\">Submit</button>\r\n\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</form>\r\n\t\t\t\t{ !isLoading && !gitRepos && <h5>waiting for submit</h5> }\r\n\t\t\t\t{ isLoading && <h5>...fetching data...</h5> }\r\n\t\t\t\t{ gitRepos &&\r\n\t\t\t\t\t<h3>The user <span style={{ fontSize: 'larger' }}>{user}</span>\r\n\t\t\t\t\t\t{ gitRepos !== 'err' ?\r\n\t\t\t\t\t\t\trepoText\r\n\t\t\t\t\t\t\t: errText\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t}\r\n\t\t\t\t<button onClick={toggle}>Switch1!</button> - {on ? 'Is on!' : 'Is off!'} <br />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home__MseGd\"};"],"sourceRoot":""}